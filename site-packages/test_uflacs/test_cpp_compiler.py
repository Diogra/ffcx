"""
Tests of generic C++ compilation code.
"""

from ufltestcase import UflTestCase
import ufl
from ufl import as_ufl
import uflacs
from uflacs.backends.cpp2.compiler import compile_form

class CppCompilerTest(UflTestCase):

    def test_cpp2_compile_literal(self):
        from ufl import cell2D, FiniteElement, Coefficient, dx
        M = as_ufl(1)*dx
        code = compile_form(M, 'unittest')
        print
        print code
        print

    def xtest_cpp_compilation(self):
        from ufl import cell2D, FiniteElement, Coefficient, dx
        M = Coefficient(FiniteElement("CG", cell2D, 1))**2/2*dx
        code = compile_form(M, 'unittest')
        print
        print code
        print